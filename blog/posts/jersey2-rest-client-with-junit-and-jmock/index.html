
<!DOCTYPE html>
<html lang="en">
    <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Building Jersey2 REST Client Using Spring with JUnit and JMock | Business Casual</title>

    <!-- Bootstrap Core CSS -->
    <link href="/stylesheets/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="/stylesheets/business-casual.css" rel="stylesheet">

    <!-- Fonts -->
    <link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Josefin+Slab:100,300,400,600,700,100italic,300italic,400italic,600italic,700italic" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.javascripts/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

    <body>
        
<div class="brand">Business Casual</div>
<div class="address-bar">3481 Melrose Place | Beverly Hills, CA 90210 | 123.456.7890</div>

        <!-- Navigation -->
<nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <!-- navbar-brand is hidden on larger screens, but visible when the menu is collapsed -->
            <a class="navbar-brand" href="/">Business Casual</a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                
                <li>
                    <a href="/">Home</a>
                </li>
                
                <li>
                    <a href="/about.html">About</a>
                </li>
                
                <li>
                    <a href="/blog/">Blog</a>
                </li>
                
                <li>
                    <a href="/contact.html">Contact</a>
                </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

        <div class="container">
    <div class="row">
        <div class="box">
            <div class="col-lg-12">
                <hr>
                <h2 class="intro-text">Building Jersey2 REST Client Using Spring with JUnit and JMock</h2>
                <hr>
            </div>
            <div class="col-lg-12">
                
                <h2>
                    <small>December 23, 2013</small>
                </h2>
                <p><p>This post will show how to create a Jersey2 REST Client in a Spring environment and test the same using JUnit and JMock frameworks. The details of the actual application are explained in the earlier post given by the link <a href="http://meygam.github.io/blog/2013/12/13/student-enrollment-using-jersey-rest-with-spring/">Building Java Web Application Using Jersey REST With Spring</a>.</p>
<!--more-->
<ol>
<li><h2>Update pom.xml</h2>
<p>To make the Maven Java Web Application project (<a href="http://meygam.github.io/blog/2013/12/13/student-enrollment-using-jersey-rest-with-spring/">Building Java Web Application Using Jersey REST With Spring</a>) support the JUnit testing framework, add the following dependency to the existing pom.xml</p>
</li>
</ol>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><dependency>
</span><span class='line'>	<groupId>org.jmock</groupId>
</span><span class='line'>	<artifactId>jmock-junit4</artifactId>
</span><span class='line'>	<version>2.6.0</version>
</span><span class='line'></dependency>
</span></code></pre></td></tr></table></div></figure>
<ol>
<li><h2>Create packages for Client tier classes</h2>
<p>Create package for the Jersey Client classes under the src/main/java folder.</p>
</li>
</ol>
<p>A sample snapshot of the project after the package creation is as shown below:</p>
<p><img src="/assets/images/elizabetht/jersey-client-package.png" alt="Jersey REST Client Package Layout" title="Jersey REST Client Package Layout" /></p>
<ol>
<li><h2>Create classes for Client tier</h2>
<p>Create an interface class named StudentClientInterface.java inside the package com.github.elizabetht.client to support the client operations.</p>
</li>
</ol>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>public interface StudentClientInterface {
</span><span class='line'>
</span><span class='line'>	public Response getSignup();
</span><span class='line'>
</span><span class='line'>	public Response postSignup(String userName, String password,
</span><span class='line'>			String firstName, String lastName, String dateOfBirth,
</span><span class='line'>			String emailAddress) throws Exception;
</span><span class='line'>
</span><span class='line'>	public Response getLogin();
</span><span class='line'>
</span><span class='line'>	public Response postLogin(String userName, String password);
</span><span class='line'>
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>
<p>Create a client tier implementation class (a POJO indeed) named StudentClient.java inside the package com.github.elizabetht.client. This is where the client logic goes - either to access the GET/POST methods in the StudentResource.java class.</p>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>public class StudentClient implements StudentClientInterface {
</span><span class='line'>	private WebTarget target;
</span><span class='line'>
</span><span class='line'>	public StudentClient(WebTarget target) {
</span><span class='line'>		this.target = target;
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	public Response getSignup() {		
</span><span class='line'>		Response response = target.path("signup").request().get(Response.class);
</span><span class='line'>		return response;
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	public Response postSignup(String userName, String password,
</span><span class='line'>			String firstName, String lastName, String dateOfBirth,
</span><span class='line'>			String emailAddress) throws Exception {
</span><span class='line'>		
</span><span class='line'>		Form form = new Form().param("userName", userName)
</span><span class='line'>				.param("password", password).param("firstName", firstName)
</span><span class='line'>				.param("lastName", lastName).param("dateOfBirth", dateOfBirth)
</span><span class='line'>				.param("emailAddress", emailAddress);
</span><span class='line'>		Response response = target.path("signup").request()
</span><span class='line'>				.post(Entity.form(form));
</span><span class='line'>
</span><span class='line'>		if (response.getStatus() == Status.INTERNAL_SERVER_ERROR
</span><span class='line'>				.getStatusCode()) {
</span><span class='line'>			throw new Exception();
</span><span class='line'>		}
</span><span class='line'>
</span><span class='line'>		if (response.getStatus() != Status.OK.getStatusCode()) {
</span><span class='line'>			throw new RuntimeException();
</span><span class='line'>		}
</span><span class='line'>
</span><span class='line'>		return response;
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	public Response getLogin() {
</span><span class='line'>		Response response = target.path("login").request().get(Response.class);
</span><span class='line'>
</span><span class='line'>		return response;
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	public Response postLogin(String userName, String password) {
</span><span class='line'>		Form form = new Form().param("userName", userName).param("password",
</span><span class='line'>				password);
</span><span class='line'>
</span><span class='line'>		Response response = target.path("login").request()
</span><span class='line'>				.post(Entity.form(form));
</span><span class='line'>
</span><span class='line'>		if (response.getStatus() != Status.OK.getStatusCode()) {
</span><span class='line'>			throw new RuntimeException();
</span><span class='line'>		}
</span><span class='line'>
</span><span class='line'>		return response;
</span><span class='line'>	}
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>
<ol>
<li><h2>Create packages for Client Test tier classes</h2>
<p>Create package for the Client Test classes by right-clicking on the StudentClient.java class and choosing "New->JUnit Test Case" option. Specify the source folder as StudentEnrollmentWithREST/src/test/java folder (create the src/test/java folder if the folder does not exist) and specify the name for the test class.</p>
</li>
</ol>
<p>A sample snapshot of the project after the package creation is as shown below:</p>
<p><img src="/assets/images/elizabetht/jersey-client-test-package.png" alt="Jersey REST Client Test Package Layout" title="Jersey REST Client Test Package Layout" /></p>
<ol>
<li><h2>Extract Interfaces for Model and Resource tier classes</h2>
<p>In order to support the use of JMock mocking framework alongside JUnit test cases, extract the interfaces out of the Model(Student.java) and Resource (StudentResource.java) tier classes. This is necessary in order to mock the objects.</p>
</li>
</ol>
<p>Extracting interfaces can be done by right-clicking on the class file and choosing "Refactor->Extract Interface" option.</p>
<p>The StudentInterface.java (in src/main/java/com.github.elizabetht.model package) after the extraction looks as below.</p>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>public interface StudentInterface {
</span><span class='line'>
</span><span class='line'>	public Long getId();
</span><span class='line'>
</span><span class='line'>	public void setId(Long id);
</span><span class='line'>
</span><span class='line'>	public String getUserName();
</span><span class='line'>
</span><span class='line'>	public void setUserName(String userName);
</span><span class='line'>
</span><span class='line'>	public String getFirstName();
</span><span class='line'>
</span><span class='line'>	public void setFirstName(String firstName);
</span><span class='line'>
</span><span class='line'>	public String getLastName();
</span><span class='line'>
</span><span class='line'>	public void setLastName(String lastName);
</span><span class='line'>
</span><span class='line'>	public String getPassword();
</span><span class='line'>
</span><span class='line'>	public void setPassword(String password);
</span><span class='line'>
</span><span class='line'>	public String getEmailAddress();
</span><span class='line'>
</span><span class='line'>	public void setEmailAddress(String emailAddress);
</span><span class='line'>
</span><span class='line'>	public Date getDateOfBirth();
</span><span class='line'>
</span><span class='line'>	public void setDateOfBirth(Date dateOfBirth);
</span><span class='line'>
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>
<p>Similarly, the StudentResourceInterface.java (in src/main/java/com.github.elizabetht.resource package) looks as below.</p>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>public interface StudentResourceInterface {
</span><span class='line'>
</span><span class='line'>	public Response signup();
</span><span class='line'>
</span><span class='line'>	public Response signup(String userName, String password, String firstName,
</span><span class='line'>			String lastName, String dateOfBirth, String emailAddress)
</span><span class='line'>			throws ParseException;
</span><span class='line'>
</span><span class='line'>	public Response login();
</span><span class='line'>
</span><span class='line'>	public Response login(String userName, String password);
</span><span class='line'>
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>
<ol>
<li><h2>Create Unit Test cases for StudentClient class</h2>
<p>As a part of unit testing, each of the unit must be testable individually. While in reality, each unit would depend on other modules. This is where JMock comes into picture - to help to test a unit individually by mocking the dependencies.</p>
</li>
</ol>
<p>@Before annotation helps to define the environment that needs to be setup before running each test case. In this example, the context and mock objects are setup using the @Before annotation.</p>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
<span class='line-number'>193</span>
<span class='line-number'>194</span>
<span class='line-number'>195</span>
<span class='line-number'>196</span>
<span class='line-number'>197</span>
<span class='line-number'>198</span>
<span class='line-number'>199</span>
<span class='line-number'>200</span>
<span class='line-number'>201</span>
<span class='line-number'>202</span>
<span class='line-number'>203</span>
<span class='line-number'>204</span>
<span class='line-number'>205</span>
<span class='line-number'>206</span>
<span class='line-number'>207</span>
<span class='line-number'>208</span>
<span class='line-number'>209</span>
<span class='line-number'>210</span>
<span class='line-number'>211</span>
<span class='line-number'>212</span>
<span class='line-number'>213</span>
<span class='line-number'>214</span>
<span class='line-number'>215</span>
<span class='line-number'>216</span>
<span class='line-number'>217</span>
<span class='line-number'>218</span>
<span class='line-number'>219</span>
<span class='line-number'>220</span>
<span class='line-number'>221</span>
<span class='line-number'>222</span>
<span class='line-number'>223</span>
<span class='line-number'>224</span>
<span class='line-number'>225</span>
<span class='line-number'>226</span>
<span class='line-number'>227</span>
<span class='line-number'>228</span>
<span class='line-number'>229</span>
<span class='line-number'>230</span>
<span class='line-number'>231</span>
<span class='line-number'>232</span>
<span class='line-number'>233</span>
<span class='line-number'>234</span>
<span class='line-number'>235</span>
<span class='line-number'>236</span>
<span class='line-number'>237</span>
<span class='line-number'>238</span>
<span class='line-number'>239</span>
<span class='line-number'>240</span>
<span class='line-number'>241</span>
<span class='line-number'>242</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>public class StudentClientUnitTest {
</span><span class='line'>	private Mockery context;
</span><span class='line'>	private StudentClient studentClient;
</span><span class='line'>	private WebTarget target;
</span><span class='line'>	private Builder builder;
</span><span class='line'>
</span><span class='line'>	@Before
</span><span class='line'>	public void beforeEachTest() {
</span><span class='line'>		context = new Mockery();
</span><span class='line'>		studentClient = new StudentClient(
</span><span class='line'>				ClientBuilder
</span><span class='line'>						.newClient()
</span><span class='line'>						.target("http://localhost:8080/StudentEnrollmentWithREST/webapi/studentResource/"));
</span><span class='line'>		target = context.mock(WebTarget.class);
</span><span class='line'>		builder = context.mock(Builder.class);
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test
</span><span class='line'>	public void getSignupTest() {
</span><span class='line'>		studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>		final Response response = Response.ok(new Viewable("/signup")).build();
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(target).path(with(any(String.class)));
</span><span class='line'>				will(returnValue(target));
</span><span class='line'>				oneOf(target).request();
</span><span class='line'>				will(returnValue(builder));
</span><span class='line'>				oneOf(builder).get(Response.class);
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentClient.getSignup();
</span><span class='line'>		assertEquals(response.getStatus(), Status.OK.getStatusCode());
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test
</span><span class='line'>	public void postSignupTest() throws Exception {
</span><span class='line'>		String userName = "jersey";
</span><span class='line'>		String password = "jersey";
</span><span class='line'>		String firstName = "jersey";
</span><span class='line'>		String lastName = "jersey";
</span><span class='line'>		String dateOfBirth = "12-21-2013";
</span><span class='line'>		String emailAddress = "jersey@gmail.com";
</span><span class='line'>		studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>		final Response response = Response.ok(new Viewable("/success")).build();
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(target).path(with(any(String.class)));
</span><span class='line'>				will(returnValue(target));
</span><span class='line'>				oneOf(target).request();
</span><span class='line'>				will(returnValue(builder));
</span><span class='line'>				oneOf(builder).post(with(any(Entity.class)));
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentClient.postSignup(userName, password, firstName, lastName,
</span><span class='line'>				dateOfBirth, emailAddress);
</span><span class='line'>		assertEquals(response.getStatus(), Status.OK.getStatusCode());
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test(expected = Exception.class)
</span><span class='line'>	public void postSignupInvalidDateFormatTest() throws Exception {
</span><span class='line'>		String userName = "jersey";
</span><span class='line'>		String password = "jersey";
</span><span class='line'>		String firstName = "jersey";
</span><span class='line'>		String lastName = "jersey";
</span><span class='line'>		String dateOfBirth = "12/21/2013";
</span><span class='line'>		String emailAddress = "jersey@gmail.com";
</span><span class='line'>		studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>		final Response response = Response.status(Status.PRECONDITION_FAILED)
</span><span class='line'>				.build();
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(target).path(with(any(String.class)));
</span><span class='line'>				will(returnValue(target));
</span><span class='line'>				oneOf(target).request();
</span><span class='line'>				will(returnValue(builder));
</span><span class='line'>				oneOf(builder).post(with(any(Entity.class)));
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentClient.postSignup(userName, password, firstName, lastName,
</span><span class='line'>				dateOfBirth, emailAddress);
</span><span class='line'>		assertEquals(response.getStatus(), Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test(expected = Exception.class)
</span><span class='line'>	public void postSignupBadRequestTest() throws Exception {
</span><span class='line'>		String userName = null;
</span><span class='line'>		String password = null;
</span><span class='line'>		String firstName = null;
</span><span class='line'>		String lastName = null;
</span><span class='line'>		String dateOfBirth = null;
</span><span class='line'>		String emailAddress = null;
</span><span class='line'>		studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>		final Response response = Response.status(Status.PRECONDITION_FAILED)
</span><span class='line'>				.build();
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(target).path(with(any(String.class)));
</span><span class='line'>				will(returnValue(target));
</span><span class='line'>				oneOf(target).request();
</span><span class='line'>				will(returnValue(builder));
</span><span class='line'>				oneOf(builder).post(with(any(Entity.class)));
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentClient.postSignup(userName, password, firstName, lastName,
</span><span class='line'>				dateOfBirth, emailAddress);
</span><span class='line'>		assertEquals(response.getStatus(), Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test(expected = RuntimeException.class)
</span><span class='line'>	public void postSignupExistingUserTest() throws Exception {
</span><span class='line'>		String userName = "jersey";
</span><span class='line'>		String password = "jersey";
</span><span class='line'>		String firstName = "jersey";
</span><span class='line'>		String lastName = "jersey";
</span><span class='line'>		String dateOfBirth = "12/21/2013";
</span><span class='line'>		String emailAddress = "jersey@gmail.com";
</span><span class='line'>		studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>		final Response response = Response.status(Status.BAD_REQUEST).build();
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(target).path(with(any(String.class)));
</span><span class='line'>				will(returnValue(target));
</span><span class='line'>				oneOf(target).request();
</span><span class='line'>				will(returnValue(builder));
</span><span class='line'>				oneOf(builder).post(with(any(Entity.class)));
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentClient.postSignup(userName, password, firstName, lastName,
</span><span class='line'>				dateOfBirth, emailAddress);
</span><span class='line'>		assertEquals(response.getStatus(), Status.BAD_REQUEST.getStatusCode());
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test
</span><span class='line'>	public void getLoginTest() {
</span><span class='line'>		studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>		final Response response = Response.ok(new Viewable("/login")).build();
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(target).path(with(any(String.class)));
</span><span class='line'>				will(returnValue(target));
</span><span class='line'>				oneOf(target).request();
</span><span class='line'>				will(returnValue(builder));
</span><span class='line'>				oneOf(builder).get(Response.class);
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentClient.getLogin();
</span><span class='line'>		assertEquals(response.getStatus(), Status.OK.getStatusCode());
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test
</span><span class='line'>	public void postLoginTest() {
</span><span class='line'>		String userName = "jersey";
</span><span class='line'>		String password = "jersey";
</span><span class='line'>		studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>		final Response response = Response.ok(new Viewable("/success")).build();
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(target).path(with(any(String.class)));
</span><span class='line'>				will(returnValue(target));
</span><span class='line'>				oneOf(target).request();
</span><span class='line'>				will(returnValue(builder));
</span><span class='line'>				oneOf(builder).post(with(any(Entity.class)));
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentClient.postLogin(userName, password);
</span><span class='line'>		assertEquals(response.getStatus(), Status.OK.getStatusCode());
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>	
</span><span class='line'>	@Test(expected=RuntimeException.class)
</span><span class='line'>	public void postLoginInvalidTest() {
</span><span class='line'>		String userName = "jersey";
</span><span class='line'>		String password = "jersey123";
</span><span class='line'>		studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>		final Response response = Response.status(Status.BAD_REQUEST).build();
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(target).path(with(any(String.class)));
</span><span class='line'>				will(returnValue(target));
</span><span class='line'>				oneOf(target).request();
</span><span class='line'>				will(returnValue(builder));
</span><span class='line'>				oneOf(builder).post(with(any(Entity.class)));
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentClient.postLogin(userName, password);
</span><span class='line'>		assertEquals(response.getStatus(), Status.BAD_REQUEST.getStatusCode());
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>	
</span><span class='line'>	@Test(expected=RuntimeException.class)
</span><span class='line'>	public void postLoginBadRequestTest() {
</span><span class='line'>		String userName = null;
</span><span class='line'>		String password = null;
</span><span class='line'>		studentClient = new StudentClient(target);
</span><span class='line'>
</span><span class='line'>		final Response response = Response.status(Status.PRECONDITION_FAILED).build();
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(target).path(with(any(String.class)));
</span><span class='line'>				will(returnValue(target));
</span><span class='line'>				oneOf(target).request();
</span><span class='line'>				will(returnValue(builder));
</span><span class='line'>				oneOf(builder).post(with(any(Entity.class)));
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentClient.postLogin(userName, password);
</span><span class='line'>		assertEquals(response.getStatus(), Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>
<ol>
<li><h2>Create Unit Test cases for StudentResource class</h2>
<p>In similar lines, create unit test cases for StudentResource class by mocking the external dependencies which the class depends on for its operation.</p>
</li>
</ol>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
<span class='line-number'>193</span>
<span class='line-number'>194</span>
<span class='line-number'>195</span>
<span class='line-number'>196</span>
<span class='line-number'>197</span>
<span class='line-number'>198</span>
<span class='line-number'>199</span>
<span class='line-number'>200</span>
<span class='line-number'>201</span>
<span class='line-number'>202</span>
<span class='line-number'>203</span>
<span class='line-number'>204</span>
<span class='line-number'>205</span>
<span class='line-number'>206</span>
<span class='line-number'>207</span>
<span class='line-number'>208</span>
<span class='line-number'>209</span>
<span class='line-number'>210</span>
<span class='line-number'>211</span>
<span class='line-number'>212</span>
<span class='line-number'>213</span>
<span class='line-number'>214</span>
<span class='line-number'>215</span>
<span class='line-number'>216</span>
<span class='line-number'>217</span>
<span class='line-number'>218</span>
<span class='line-number'>219</span>
<span class='line-number'>220</span>
<span class='line-number'>221</span>
<span class='line-number'>222</span>
<span class='line-number'>223</span>
<span class='line-number'>224</span>
<span class='line-number'>225</span>
<span class='line-number'>226</span>
<span class='line-number'>227</span>
<span class='line-number'>228</span>
<span class='line-number'>229</span>
<span class='line-number'>230</span>
<span class='line-number'>231</span>
<span class='line-number'>232</span>
<span class='line-number'>233</span>
<span class='line-number'>234</span>
<span class='line-number'>235</span>
<span class='line-number'>236</span>
<span class='line-number'>237</span>
<span class='line-number'>238</span>
<span class='line-number'>239</span>
<span class='line-number'>240</span>
<span class='line-number'>241</span>
<span class='line-number'>242</span>
<span class='line-number'>243</span>
<span class='line-number'>244</span>
<span class='line-number'>245</span>
<span class='line-number'>246</span>
<span class='line-number'>247</span>
<span class='line-number'>248</span>
<span class='line-number'>249</span>
<span class='line-number'>250</span>
<span class='line-number'>251</span>
<span class='line-number'>252</span>
<span class='line-number'>253</span>
<span class='line-number'>254</span>
<span class='line-number'>255</span>
<span class='line-number'>256</span>
<span class='line-number'>257</span>
<span class='line-number'>258</span>
<span class='line-number'>259</span>
<span class='line-number'>260</span>
<span class='line-number'>261</span>
<span class='line-number'>262</span>
<span class='line-number'>263</span>
<span class='line-number'>264</span>
<span class='line-number'>265</span>
<span class='line-number'>266</span>
<span class='line-number'>267</span>
<span class='line-number'>268</span>
<span class='line-number'>269</span>
<span class='line-number'>270</span>
<span class='line-number'>271</span>
<span class='line-number'>272</span>
<span class='line-number'>273</span>
<span class='line-number'>274</span>
<span class='line-number'>275</span>
<span class='line-number'>276</span>
<span class='line-number'>277</span>
<span class='line-number'>278</span>
<span class='line-number'>279</span>
<span class='line-number'>280</span>
<span class='line-number'>281</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>public class StudentResourceUnitTest {
</span><span class='line'>	private Mockery context;
</span><span class='line'>	private StudentService studentService;
</span><span class='line'>	private StudentResourceInterface studentResourceInterface;
</span><span class='line'>
</span><span class='line'>	@Before
</span><span class='line'>	public void beforeEachTest() throws Exception {
</span><span class='line'>		context = new Mockery();
</span><span class='line'>		studentService = context.mock(StudentService.class);
</span><span class='line'>		studentResourceInterface = new StudentResource();
</span><span class='line'>
</span><span class='line'>		Field field = studentResourceInterface.getClass().getDeclaredField(
</span><span class='line'>				"studentService");
</span><span class='line'>		field.setAccessible(true);
</span><span class='line'>		field.set(studentResourceInterface, studentService);
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test
</span><span class='line'>	public void postSignupResourceTest() throws ParseException {
</span><span class='line'>		final String userName = "jersey";
</span><span class='line'>		String password = "jersey";
</span><span class='line'>		String firstName = "jersey";
</span><span class='line'>		String lastName = "jersey";
</span><span class='line'>		String dateOfBirth = "12/21/2013";
</span><span class='line'>		String emailAddress = "jersey@gmail.com";
</span><span class='line'>		final StudentInterface student = context.mock(StudentInterface.class);
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentService).findByUserName(userName);
</span><span class='line'>				will(returnValue(false));
</span><span class='line'>				oneOf(studentService).save(with(any(StudentInterface.class)));
</span><span class='line'>				will(returnValue(student));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>				lastName, dateOfBirth, emailAddress);
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test
</span><span class='line'>	public void postSignupResourceForExistingUserTest() throws ParseException {
</span><span class='line'>		final String userName = "jersey";
</span><span class='line'>		String password = "jersey";
</span><span class='line'>		String firstName = "jersey";
</span><span class='line'>		String lastName = "jersey";
</span><span class='line'>		String dateOfBirth = "12/21/2013";
</span><span class='line'>		String emailAddress = "jersey@gmail.com";
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentService).findByUserName(userName);
</span><span class='line'>				will(returnValue(true));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>				lastName, dateOfBirth, emailAddress);
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test
</span><span class='line'>	public void postSignupResourceForBadRequestTest() throws ParseException {
</span><span class='line'>		String userName = null;
</span><span class='line'>		String password = null;
</span><span class='line'>		String firstName = null;
</span><span class='line'>		String lastName = null;
</span><span class='line'>		String dateOfBirth = null;
</span><span class='line'>		String emailAddress = null;
</span><span class='line'>		final StudentResourceInterface studentResourceInterface = context
</span><span class='line'>				.mock(StudentResourceInterface.class);
</span><span class='line'>		final Response response = Response.status(Status.PRECONDITION_FAILED)
</span><span class='line'>				.build();
</span><span class='line'>		final Response response1 = Response.ok().entity(new Viewable("/login"))
</span><span class='line'>				.build();
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentResourceInterface).signup(
</span><span class='line'>						with(aNull(String.class)), with(aNull(String.class)),
</span><span class='line'>						with(aNull(String.class)), with(aNull(String.class)),
</span><span class='line'>						with(aNull(String.class)), with(aNull(String.class)));
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>				lastName, dateOfBirth, emailAddress);
</span><span class='line'>		assertEquals(response.getStatus(),
</span><span class='line'>				Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>		userName = "jersey";
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentResourceInterface).signup(
</span><span class='line'>						with(aNonNull(String.class)),
</span><span class='line'>						with(aNull(String.class)), with(aNull(String.class)),
</span><span class='line'>						with(aNull(String.class)), with(aNull(String.class)),
</span><span class='line'>						with(aNull(String.class)));
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>				lastName, dateOfBirth, emailAddress);
</span><span class='line'>		assertEquals(response.getStatus(),
</span><span class='line'>				Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>		password = "jersey";
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentResourceInterface).signup(
</span><span class='line'>						with(aNonNull(String.class)),
</span><span class='line'>						with(aNonNull(String.class)),
</span><span class='line'>						with(aNull(String.class)), with(aNull(String.class)),
</span><span class='line'>						with(aNull(String.class)), with(aNull(String.class)));
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>				lastName, dateOfBirth, emailAddress);
</span><span class='line'>		assertEquals(response.getStatus(),
</span><span class='line'>				Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>		firstName = "jersey";
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentResourceInterface).signup(
</span><span class='line'>						with(aNonNull(String.class)),
</span><span class='line'>						with(aNonNull(String.class)),
</span><span class='line'>						with(aNonNull(String.class)),
</span><span class='line'>						with(aNull(String.class)), with(aNull(String.class)),
</span><span class='line'>						with(aNull(String.class)));
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>				lastName, dateOfBirth, emailAddress);
</span><span class='line'>
</span><span class='line'>		lastName = "jersey";
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentResourceInterface).signup(
</span><span class='line'>						with(aNonNull(String.class)),
</span><span class='line'>						with(aNonNull(String.class)),
</span><span class='line'>						with(aNonNull(String.class)),
</span><span class='line'>						with(aNonNull(String.class)),
</span><span class='line'>						with(aNull(String.class)), with(aNull(String.class)));
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>				lastName, dateOfBirth, emailAddress);
</span><span class='line'>		assertEquals(response.getStatus(),
</span><span class='line'>				Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>		dateOfBirth = "12/20/2013";
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentResourceInterface)
</span><span class='line'>						.signup(with(aNonNull(String.class)),
</span><span class='line'>								with(aNonNull(String.class)),
</span><span class='line'>								with(aNonNull(String.class)),
</span><span class='line'>								with(aNonNull(String.class)),
</span><span class='line'>								with(aNonNull(String.class)),
</span><span class='line'>								with(aNull(String.class)));
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>				lastName, dateOfBirth, emailAddress);
</span><span class='line'>		assertEquals(response.getStatus(),
</span><span class='line'>				Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>		emailAddress = "jersey@gmail.com";
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentResourceInterface).signup(
</span><span class='line'>						with(aNonNull(String.class)),
</span><span class='line'>						with(aNonNull(String.class)),
</span><span class='line'>						with(aNonNull(String.class)),
</span><span class='line'>						with(aNonNull(String.class)),
</span><span class='line'>						with(aNonNull(String.class)),
</span><span class='line'>						with(aNonNull(String.class)));
</span><span class='line'>				will(returnValue(response1));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentResourceInterface.signup(userName, password, firstName,
</span><span class='line'>				lastName, dateOfBirth, emailAddress);
</span><span class='line'>		assertEquals(response1.getStatus(), Status.OK.getStatusCode());
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test
</span><span class='line'>	public void postLoginResourceTest() throws ParseException {
</span><span class='line'>		final String userName = "jersey";
</span><span class='line'>		final String password = "jersey";
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentService).findByLogin(userName, password);
</span><span class='line'>				will(returnValue(true));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentResourceInterface.login(userName, password);
</span><span class='line'>
</span><span class='line'>		final String password1 = "jersey123";
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentService).findByLogin(userName, password1);
</span><span class='line'>				will(returnValue(false));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentResourceInterface.login(userName, password1);
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test
</span><span class='line'>	public void postLoginResourceForBadRequestTest() throws ParseException {
</span><span class='line'>		final String userName = null;
</span><span class='line'>		final String password = null;
</span><span class='line'>		final StudentResourceInterface studentResourceInterface = context
</span><span class='line'>				.mock(StudentResourceInterface.class);
</span><span class='line'>		final Response response = Response.status(Status.PRECONDITION_FAILED)
</span><span class='line'>				.build();
</span><span class='line'>		final Response response1 = Response.ok().entity(new Viewable("/login"))
</span><span class='line'>				.build();
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentResourceInterface).login(
</span><span class='line'>						with(aNull(String.class)), with(aNull(String.class)));
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentResourceInterface.login(userName, password);
</span><span class='line'>		assertEquals(response.getStatus(),
</span><span class='line'>				Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>		final String userName1 = "jersey";
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentResourceInterface)
</span><span class='line'>						.login(with(aNonNull(String.class)),
</span><span class='line'>								with(aNull(String.class)));
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentResourceInterface.login(userName1, password);
</span><span class='line'>		assertEquals(response.getStatus(),
</span><span class='line'>				Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>		final String password1 = "jersey";
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentResourceInterface)
</span><span class='line'>						.login(with(aNull(String.class)),
</span><span class='line'>								with(aNonNull(String.class)));
</span><span class='line'>				will(returnValue(response));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentResourceInterface.login(userName, password1);
</span><span class='line'>		assertEquals(response.getStatus(),
</span><span class='line'>				Status.PRECONDITION_FAILED.getStatusCode());
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentResourceInterface).login(
</span><span class='line'>						with(aNonNull(String.class)),
</span><span class='line'>						with(aNonNull(String.class)));
</span><span class='line'>				will(returnValue(response1));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentResourceInterface.login(userName1, password1);
</span><span class='line'>		assertEquals(response1.getStatus(), Status.OK.getStatusCode());
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>
<ol>
<li><h2>Create Unit Test cases for StudentService class</h2>
<p>Create unit test cases for StudentService class by mocking the external dependencies which the class depends on for its operation.</p>
</li>
</ol>
<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>public class StudentServiceUnitTest {
</span><span class='line'>	private Mockery context;
</span><span class='line'>	private StudentRepository studentRepository;
</span><span class='line'>	private StudentService studentService;
</span><span class='line'>
</span><span class='line'>	@Before
</span><span class='line'>	public void beforeEachTest() throws Exception {
</span><span class='line'>		context = new Mockery();
</span><span class='line'>		studentRepository = context.mock(StudentRepository.class);
</span><span class='line'>		studentService = new StudentServiceImpl();
</span><span class='line'>
</span><span class='line'>		Field field = studentService.getClass().getDeclaredField(
</span><span class='line'>				"studentRepository");
</span><span class='line'>		field.setAccessible(true);
</span><span class='line'>		field.set(studentService, studentRepository);
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test
</span><span class='line'>	public void findByLoginTest() {
</span><span class='line'>		final String userName = "j2eee";
</span><span class='line'>		final String password = "j2ee";
</span><span class='line'>		final StudentInterface studentInterface = null;
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentRepository).findByUserName(userName);
</span><span class='line'>				will(returnValue(studentInterface));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentService.findByLogin(userName, password);
</span><span class='line'>		assertNull(studentInterface);
</span><span class='line'>
</span><span class='line'>		final String userName1 = "j2ee";
</span><span class='line'>		final StudentInterface studentInterface1 = context
</span><span class='line'>				.mock(StudentInterface.class);
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentRepository).findByUserName(userName1);
</span><span class='line'>				will(returnValue(studentInterface1));
</span><span class='line'>				oneOf(studentInterface1).getPassword();
</span><span class='line'>				will(returnValue(password));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentService.findByLogin(userName1, password);
</span><span class='line'>		assertNotNull(studentInterface1);
</span><span class='line'>		assertEquals("j2ee", password);
</span><span class='line'>
</span><span class='line'>		final String password1 = "j2eee";
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentRepository).findByUserName(userName1);
</span><span class='line'>				will(returnValue(studentInterface1));
</span><span class='line'>				oneOf(studentInterface1).getPassword();
</span><span class='line'>				will(returnValue(password1));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentService.findByLogin(userName1, password1);
</span><span class='line'>		assertNotNull(studentInterface1);
</span><span class='line'>		assertNotEquals("j2ee", password1);
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test
</span><span class='line'>	public void findByLoginWithNullParametersTest() {
</span><span class='line'>		final String userName = null;
</span><span class='line'>		final String password = null;
</span><span class='line'>		studentService = context.mock(StudentService.class);
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentService).findByLogin(with(aNull(String.class)),
</span><span class='line'>						with(aNull(String.class)));
</span><span class='line'>				will(returnValue(false));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentService.findByLogin(userName, password);
</span><span class='line'>
</span><span class='line'>		final String userName1 = "j2ee";
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentService).findByLogin(with(aNonNull(String.class)),
</span><span class='line'>						with(aNull(String.class)));
</span><span class='line'>				will(returnValue(false));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentService.findByLogin(userName1, password);
</span><span class='line'>
</span><span class='line'>		final String password1 = "j2eee";
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentService).findByLogin(with(aNull(String.class)),
</span><span class='line'>						with(aNonNull(String.class)));
</span><span class='line'>				will(returnValue(false));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentService.findByLogin(userName, password1);
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentService).findByLogin(with(aNonNull(String.class)),
</span><span class='line'>						with(aNonNull(String.class)));
</span><span class='line'>				will(returnValue(false));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentService.findByLogin(userName1, password1);
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test
</span><span class='line'>	public void findByEmptyLoginTest() {
</span><span class='line'>		final String userName = "";
</span><span class='line'>		final String password = "";
</span><span class='line'>		final StudentInterface studentInterface = null;
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentRepository).findByUserName(userName);
</span><span class='line'>				will(returnValue(studentInterface));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentService.findByLogin(userName, password);
</span><span class='line'>		assertNull(studentInterface);
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test
</span><span class='line'>	public void findByUserNameTest() {
</span><span class='line'>		final String userName = "j2ee";
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentRepository)
</span><span class='line'>						.findByUserName(with(any(String.class)));
</span><span class='line'>				will(returnValue(with(any(StudentInterface.class))));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentService.findByUserName(userName);
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>
</span><span class='line'>	@Test
</span><span class='line'>	public void findByBadUserNameTest() {
</span><span class='line'>		final String userName = "j2eee";
</span><span class='line'>		final StudentInterface studentInterface = null;
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentRepository)
</span><span class='line'>						.findByUserName(with(any(String.class)));
</span><span class='line'>				will(returnValue(studentInterface));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentService.findByUserName(userName);
</span><span class='line'>		assertNull(studentInterface);
</span><span class='line'>
</span><span class='line'>		final String userName1 = "j2ee";
</span><span class='line'>		final StudentInterface studentInterface1 = context
</span><span class='line'>				.mock(StudentInterface.class);
</span><span class='line'>
</span><span class='line'>		context.checking(new Expectations() {
</span><span class='line'>			{
</span><span class='line'>				oneOf(studentRepository).findByUserName(userName1);
</span><span class='line'>				will(returnValue(studentInterface1));
</span><span class='line'>			}
</span><span class='line'>		});
</span><span class='line'>		studentService.findByUserName(userName1);
</span><span class='line'>		assertNotNull(studentInterface1);
</span><span class='line'>
</span><span class='line'>		context.assertIsSatisfied();
</span><span class='line'>	}
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>
<ol>
<li><h2>Running Test cases</h2>
<p>Any of the test case or test class can be run by right clicking on the name of the test case or test class and choosing "Run As->JUnit test case". Each of the test case developed should be tested to give a success output (indicated by the green bar in the JUnit output)</p>
</li>
<li><h2>Code Coverage</h2>
<p>Using tools like EclEmma, code coverage for the project can be measured. To install EclEmma, choose "Help->Eclipse Marketplace" and search for EclEmma in the search toolbar. Install the tool using the steps on-screen.</p>
</li>
</ol>
<p>Once the tool is installed, the code coverage for the project can be measured by choosing "Coverage As->JUnit test case" from the right click options on the project.</p>
<p>Achieving a code coverage of about or above 80% is normally preferred according to industrial standards. Not only writing unit test cases for existing code, but developing test scenarios for which code is not in place is an important step in Test Driven Development (TDD). By iteratively following the TDD approach, the stability of the code could be significantly improved.</p>
<ol>
<li><h2>Clone or Download code</h2>
<p>If using git, clone a copy of this project here: <a href="https://github.com/elizabetht/StudentEnrollmentWithREST.git">https://github.com/elizabetht/StudentEnrollmentWithREST.git</a></p>
</li>
</ol>
<p>In case of not using git, download the project as ZIP or tar.gz file here: <a href="https://github.com/elizabetht/StudentEnrollmentWithREST/releases/tag/1.2">https://github.com/elizabetht/StudentEnrollmentWithREST/releases/tag/1.2</a></p>
</p>
                <hr>
            </div>
            <div class="col-lg-12">
                <ul class="pager">
                    
                        <li class="previous"><a href="/blog/posts/jenkins-snapshot-upload/">&larr; Newer</a>
                        </li>
                    
                    
                        <li class="next"><a href="/blog/posts/student-enrollment-using-jersey-rest-with-spring/">Older &rarr;</a>
                        </li>
                    
                </ul>
            </div>
        </div>
    </div>
</div>
        <footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <p>Copyright &copy; Your Website 2014</p>
            </div>
        </div>
    </div>
</footer>
        <!-- jQuery Version 1.11.0 -->
<script src="/javascripts/jquery-1.11.0.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/javascripts/bootstrap.min.js"></script>

<!-- Script to Activate the Carousel -->
<script>
    $('.carousel').carousel({
        interval: 5000 //changes the speed
    })
</script>

    </body>
</html>